[
  {
    "create": "profiles",
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["first_name", "middle_name", "last_name", "email", "created_at", "updated_at"],
        "properties": {
          "first_name": { "bsonType": "string" },
          "middle_name": { "bsonType": "string" },
          "last_name": { "bsonType": "string" },
          "birthday": { "bsonType": ["date"] },
          "short_bio": { "bsonType": ["string"] },
          "gender": { "bsonType": ["string"] },
          "phone": { "bsonType": ["string"] },
          "email": { "bsonType": ["string"] },
          "department_id": { "bsonType": ["objectId"] },
          "branch_id": { "bsonType": ["objectId"] },
          "created_at": { "bsonType": "date" },
          "updated_at": { "bsonType": "date" }
        }
      }
    }
  },
  {
    "createIndexes": "profiles",
    "indexes": [
      { "key": { "email": 1 }, "name": "uniq_role_email", "unique": true }
    ]
  }
]