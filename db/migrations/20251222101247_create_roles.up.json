[
  {
    "create": "roles",
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["name", "permissions", "created_by", "created_at", "updated_at", "is_deleted"],
        "properties": {
          "name": { "bsonType": "string" },
          "permissions": { 
            "bsonType": "array", 
            "items": { "bsonType": "string" } 
            },
          "created_by": { "bsonType": "objectId" },          
          "created_at": { "bsonType": "date" },
          "updated_at": { "bsonType": "date" },
          "updated_by": { "bsonType": ["objectId"]},
          "deleted_by": { "bsonType": ["objectId"]},
          "deleted_at": { "bsonType": ["date"] },
          "is_deleted": { "bsonType": "bool" }
        }
      }
    }
  },
  {
    "createIndexes": "roles",
    "indexes": [
      { "key": { "name": 1 }, "name": "uniq_role_name", "unique": true }
    ]
  }
]