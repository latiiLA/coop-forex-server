[
  {
    "create": "branches",
    "validator": {
        "$jsonSchema": {
            "bsonType": "object",
            "required": ["name", "branch_code", "address", "district_id", "is_result_processor", "created_at", "updated_at", "created_by", "is_deleted"],
            "properties": {
            "name": { "bsonType": "string" },
            "branch_code": { "bsonType": "string" },
            "address": { "bsonType": "string" },
            "district_id": { "bsonType": "objectId" },
            "is_result_processor": { "bsonType": "bool" },
            "created_at": { "bsonType": "date" },
            "updated_at": { "bsonType": "date" },
            "created_by": { "bsonType": "objectId" },
            "updated_by": { "bsonType": ["objectId"]},
            "deleted_by": { "bsonType": ["objectId"]},
            "deleted_at": { "bsonType": ["date"] },
            "is_deleted": { "bsonType": "bool" }
            }
        }
        }
    },
    {
        "createIndexes": "branches",
        "indexes": [
        { "key": { "branch_code": 1 }, "name": "uniq_branch_code", "unique": true }
        ]
    }
]