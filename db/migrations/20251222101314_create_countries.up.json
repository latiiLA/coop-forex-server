[
  {
    "create": "countries",
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["id", "name", "short_code", "visa_status", "created_at", "updated_at", "created_by", "is_deleted"],
        "properties": {
          "id": { "bsonType": "int" },
          "name": { "bsonType": "string" },
          "short_code": { "bsonType": "string" },
          "visa_status": { "bsonType": "bool" },
          "created_at": { "bsonType": "date" },
          "updated_at": { "bsonType": "date" },
          "created_by": { "bsonType": "objectId" },
          "updated_by": { "bsonType": ["objectId"]},
          "deleted_by": { "bsonType": ["objectId"]},
          "deleted_at": { "bsonType": ["date"] },
          "is_deleted": { "bsonType": "bool" }
        }
      }
    }
  },
  {
    "createIndexes": "countries",
    "indexes": [
      { "key": { "name": 1 }, "name": "uniq_country_name", "unique": true }
    ]
  }
]