[
  {
    "create": "customer_types",
    "validator": {
        "$jsonSchema": {
            "bsonType": "object",
            "required": ["type", "created_at", "updated_at", "created_by", "updated_by", "deleted_by", "deleted_at", "is_deleted"],
            "properties": {
            "purpose": { "bsonType": "string" },
            "created_at": { "bsonType": "date" },
            "updated_at": { "bsonType": "date" },
            "created_by": { "bsonType": "objectId" },
            "updated_by": { "bsonType": ["objectId", "null"]},
            "deleted_by": { "bsonType": ["objectId", "null"]},
            "deleted_at": { "bsonType": ["date", "null"] },
            "is_deleted": { "bsonType": "bool" }
            }
        }
      }
    },
    {
        "createIndexes": "customer_types",
        "indexes": [
        { "key": { "type": 1 }, "name": "uniq_customer_type", "unique": true }
        ]
    }
]